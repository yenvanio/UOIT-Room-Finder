<div class="container">
    <mat-card class="tableCard">
      
      <i class="material-icons refreshIcon" (click)="refreshClick()">refresh</i>

      <table mat-table #table [dataSource]="dataSource" matSort>
        <ng-container *ngFor="let header of data.headers" [matColumnDef]="header.key">
  
          <div [ngSwitch]="getSortable(data.sortable, header)">
            <div *ngSwitchCase="true">
              <td mat-header-cell *matHeaderCellDef [style.justify-content]="getHeaderAlignment(header)" 
              [style.width]="getWidth(header)"mat-sort-header>
                {{header.name}}
              </td>
            </div>
            <div *ngSwitchDefault>
              <td mat-header-cell *matHeaderCellDef [style.text-align]="getHeaderAlignment(header)" [style.width]="getWidth(header)">
                {{ header.name }}
              </td>
            </div>
          </div>
  
          <td mat-cell *matCellDef="let item; let rIndex = index" [style.width]="getWidth(header)" 
              [matTooltip]="getSpecialTooltip(item, header.key)" matTooltipPosition="after"
                    [style.text-align]="getAlign(header)" (click)="cellClick(item, header.key)" [style.color]="item.color">
            <div [ngSwitch]="getType(header)">
              <span *ngSwitchCase="'none'" [title]="getTitle(item, header.key)"
                    [style.width]="getWidthWithPadding(item, header)" [style.color]="getColor(item, header)"
                    [style.padding-left]="getPadding(item, header)" [style.font-weight]="getFontWeight(item, header)">
                    {{item[header.key]}}
              </span>
              <!-- <img *ngSwitchCase="'image'" height="20px" [src]="getImage(item, header)" [title]="getTitle(item, header.key)"> -->
            </div>
          </td>
  
        </ng-container>
  
        
        <tr mat-header-row *matHeaderRowDef="headers" [ngClass]="'header-' + data.theme"></tr>
        <tr mat-row *matRowDef="let row; columns: headers;" [ngClass]="'row-' + data.theme + ' ' + markOnClick(row)" (click)="rowClick(row)"></tr>
      </table>

    </mat-card>
  </div>